<section class="fixed top-0 left-0 w-full p-6 backdrop-blur-2xl z-20">
  <nav class="flex items-center justify-between">
    <div class="cursor-pointer" (click)="backToHome()">
      <app-logo></app-logo>
    </div>

    <div class="flex items-center gap-6">
      @if (authReady) {

      <!-- Login -->
      <button
        (click)="isLoggedIn ? logout() : navigateToLogin()"
        class="relative text-white py-1 font-semibold overflow-hidden group cursor-pointer"
      >
        <span class="relative z-10">{{ isLoggedIn ? "Logout" : "Login" }}</span>
        <span
          class="absolute left-0 bottom-0 h-[2px] w-0 bg-purple-600 transition-all duration-100 group-hover:w-full"
        ></span>
      </button>

      <!-- Create Snippet -->
      @if (!isLoggedIn) {
      <button
        (click)="navigateToCreateSnippet()"
        class="group relative flex cursor-pointer items-center justify-center w-10 h-10 rounded-full bg-purple-600 transition-colors"
        aria-label="Crear snippet"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          class="relative z-10 pointer-events-none"
          aria-hidden="true"
        >
          <path
            d="M10 4V16M4 10H16"
            stroke="white"
            stroke-width="2"
            stroke-linecap="round"
          />
        </svg>
        <!-- circle -->
        <svg
          viewBox="0 0 40 40"
          class="pointer-events-none absolute inset-0"
          aria-hidden="true"
        >
          <circle
            cx="20"
            cy="20"
            r="18"
            class="fill-none stroke-white [stroke-dasharray:113] [stroke-dashoffset:113] transition-[stroke-dashoffset,opacity] duration-200 ease-out opacity-0 group-hover:[stroke-dashoffset:0] group-hover:opacity-100 transform -rotate-90 origin-center"
            stroke-width="2"
          />
        </svg>
      </button>
    
      } @if (isLoggedIn) {
        <div class="flex items-center gap-4">
          <app-button-ia></app-button-ia>
          <app-button-avatar-header> </app-button-avatar-header>
        </div>
      }
    } @else {
      <app-snippet-loading></app-snippet-loading>
    }
    </div>
  </nav>
</section>
